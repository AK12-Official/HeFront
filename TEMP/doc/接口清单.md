# MallLite电商系统 - 接口清单

## 📋 接口概览

### 🔐 会员认证 (/sso)
| 方法 | 路径 | 描述 | 认证 |
|------|------|------|------|
| POST | /sso/register | 用户注册 | ❌ |
| POST | /sso/login | 用户登录 | ❌ |
| GET | /sso/info | 获取会员信息 | ✅ |
| GET | /sso/getAuthCode | 获取验证码 | ❌ |
| POST | /sso/updatePassword | 修改密码 | ❌ |
| GET | /sso/refreshToken | 刷新Token | ✅ |

### 🏠 首页内容 (/home)
| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /home/content | 首页内容信息 |
| GET | /home/recommendProductList | 推荐商品列表 |
| GET | /home/hotProductList | 人气商品列表 |
| GET | /home/newProductList | 新品推荐列表 |
| GET | /home/productCateList/{parentId} | 商品分类列表 |
| GET | /home/subjectList | 专题列表 |

### 📦 商品管理 (/product)
| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /product/search | 商品搜索 |
| GET | /product/detail/{id} | 商品详情 |
| GET | /product/categoryTreeList | 分类树结构 |

### 🛒 购物车 (/cart)
| 方法 | 路径 | 描述 | 认证 |
|------|------|------|------|
| POST | /cart/add | 添加商品到购物车 | ✅ |
| GET | /cart/list | 获取购物车列表 | ✅ |
| GET | /cart/list/promotion | 获取促销信息 | ✅ |
| GET | /cart/update/quantity | 修改商品数量 | ✅ |
| GET | /cart/getProduct/{productId} | 获取商品规格 | ✅ |
| POST | /cart/update/attr | 修改商品规格 | ✅ |
| POST | /cart/delete | 删除购物车商品 | ✅ |
| POST | /cart/clear | 清空购物车 | ✅ |

### 📄 订单管理 (/order)
| 方法 | 路径 | 描述 | 认证 |
|------|------|------|------|
| POST | /order/generateConfirmOrder | 生成确认订单 | ✅ |
| POST | /order/generateOrder | 提交订单 | ✅ |
| POST | /order/paySuccess | 支付成功回调 | ✅ |
| GET | /order/list | 订单列表 | ✅ |
| GET | /order/detail/{orderId} | 订单详情 | ✅ |
| POST | /order/cancelUserOrder | 取消订单 | ✅ |
| POST | /order/confirmReceiveOrder | 确认收货 | ✅ |
| POST | /order/deleteOrder | 删除订单 | ✅ |

### 💰 支付接口 (/alipay)
| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /alipay/pay | 电脑网站支付 |
| GET | /alipay/webPay | 手机网站支付 |
| POST | /alipay/notify | 异步回调 |
| GET | /alipay/query | 查询支付状态 |

### 📍 收货地址 (/member/address)
| 方法 | 路径 | 描述 | 认证 |
|------|------|------|------|
| POST | /member/address/add | 添加地址 | ✅ |
| POST | /member/address/delete/{id} | 删除地址 | ✅ |
| POST | /member/address/update/{id} | 修改地址 | ✅ |
| GET | /member/address/list | 地址列表 | ✅ |
| GET | /member/address/{id} | 地址详情 | ✅ |

### 🎫 优惠券 (/member/coupon)
| 方法 | 路径 | 描述 | 认证 |
|------|------|------|------|
| POST | /member/coupon/add/{couponId} | 领取优惠券 | ✅ |
| GET | /member/coupon/listHistory | 优惠券历史 | ✅ |
| GET | /member/coupon/list | 优惠券列表 | ✅ |
| GET | /member/coupon/list/cart/{type} | 购物车可用优惠券 | ✅ |
| GET | /member/coupon/listByProduct/{productId} | 商品相关优惠券 | ❌ |

### 🔍 高级搜索 (/esProduct)
| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /esProduct/search/simple | 简单搜索 |
| GET | /esProduct/search | 综合搜索 |
| GET | /esProduct/recommend/{id} | 商品推荐 |

### ↩️ 售后服务 (/returnApply)
| 方法 | 路径 | 描述 | 认证 |
|------|------|------|------|
| POST | /returnApply/create | 申请退货 | ✅ |

## 🔧 常用参数说明

### 分页参数
- `pageNum`: 页码，从1开始
- `pageSize`: 每页数量

### 排序参数 (sort)
- 0: 按相关度
- 1: 按新品
- 2: 按销量
- 3: 价格从低到高
- 4: 价格从高到低

### 订单状态 (status)
- -1: 全部
- 0: 待付款
- 1: 待发货
- 2: 已发货
- 3: 已完成
- 4: 已关闭

### 优惠券状态 (useStatus)
- 0: 未使用
- 1: 已使用
- 2: 已过期

### 支付方式 (payType)
- 1: 支付宝
- 2: 微信支付

## 📚 快速开始

1. **获取Token**: 调用 `/sso/login` 接口登录
2. **设置请求头**: `Authorization: Bearer {token}`
3. **测试接口**: 从首页内容开始测试
4. **处理分页**: 注意分页参数的使用
5. **异常处理**: 根据返回的code判断请求结果

## 🌐 常用状态码

| 状态码 | 含义 |
|--------|------|
| 200 | 成功 |
| 400 | 参数错误 |
| 401 | 需要登录 |
| 403 | 无权限 |
| 500 | 服务器错误 |
